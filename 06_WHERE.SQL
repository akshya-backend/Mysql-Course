-- ============================================
-- ðŸ”¥ DELETE STATEMENTS USING ONLY WHERE CLAUSES
-- ============================================
USE HotelDB;

-- âœ… Delete by exact match (CustomerID = ...)
DELETE FROM ServiceUsage
WHERE CustomerID = 1;

-- âœ… Delete by multiple conditions (ServiceID and Quantity)
DELETE FROM ServiceUsage
WHERE ServiceID = 2 AND Quantity = 1;

-- âœ… Delete using IN (multiple customers by IDs)
DELETE FROM ServiceUsage
WHERE CustomerID IN (2, 3);

-- âœ… Delete using NOT IN (exclude certain services)
DELETE FROM ServiceUsage
WHERE ServiceID NOT IN (1, 2);

-- âœ… Delete using BETWEEN (date range)
DELETE FROM ServiceUsage
WHERE DateUsed BETWEEN '2025-07-01' AND '2025-07-31';

-- âœ… Delete using LIKE (IDProof pattern)
DELETE FROM Customer
WHERE IDProof LIKE 'AADHAR%';

-- âœ… Delete using IS NULL
DELETE FROM Booking
WHERE CheckOutDate IS NULL;

-- âœ… Delete using IS NOT NULL
DELETE FROM Payment
WHERE PaymentDate IS NOT NULL;

-- âœ… Delete using comparison (greater than)
DELETE FROM ServiceUsage
WHERE Quantity > 2;

-- âœ… Delete using less than
DELETE FROM ServiceUsage
WHERE TotalCost < 1000;

-- âœ… Delete specific record by primary key
DELETE FROM ServiceUsage
WHERE UsageID = 5;

-- âœ… Delete using nested subquery (Customer name to ID)
DELETE FROM ServiceUsage
WHERE CustomerID = (
    SELECT CustomerID FROM Customer WHERE FullName = 'Akshay Kumar'
);

-- âœ… Delete using EXISTS
DELETE FROM ServiceUsage
WHERE EXISTS (
    SELECT 1 FROM Customer 
    WHERE Customer.CustomerID = ServiceUsage.CustomerID 
    AND FullName = 'John Doe'
);
